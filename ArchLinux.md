![](https://archlinux.org/static/logos/archlinux-logo-dark-90dpi.ebdee92a15b3.png)


**Arch Linux** ‒ это один из немногих дистрибутивов Linux, в котором доступны самые последние версии пакетов. 


# ОГЛАВЛЕНИЕ

- [Установка Arch Linux](#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Arch-Linux)
  - [Подготовка к установке](#%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BA-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5)
    - [Установочная Флешка Вариант 1 - VENTOY](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D0%B0%D1%8F-%D1%84%D0%BB%D0%B5%D1%88%D0%BA%D0%B0-%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82-1---ventoy "Подготовка флешки путем записи `копировании/перемещении` образа на USB флешку.")
    - [Установочная Флешка Вариант 2 - dd & RUFUS](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D0%B0%D1%8F-%D1%84%D0%BB%D0%B5%D1%88%D0%BA%D0%B0-%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82-1---ventoy "Создание образа путем клонирования установочного диска на USB флешку")
  - [Загрузка с установочной флешки Live System ArchLinux ](#%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D1%81-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D0%BE%D0%B9-%D1%84%D0%BB%D0%B5%D1%88%D0%BA%D0%B8-live-system-archlinux "Live-система ArchLinux")
    - [Проверка режима загрузки](# ) 
  - [Настройка сети](#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%81%D0%B5%D1%82%D0%B8)
    - [Подключение к сети 'OrrHome'](#%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA-%D1%81%D0%B5%D1%82%D0%B8-orrhome)
  
  



# Установка Arch Linux

[>>> Ссылка на репозиторий с вариантом установочного скрипта Arch Linux <<<](https://github.com/tz4678/arch-installer "Создает на SSD разделы, устанавливает Arch в раздел с BTRFS, ставит Chromium (так же включает аппаратное ускорение для видео), Telegram, VS Code, Tor Browser и кучу разных утилит. Так же ставятся шрифты, темы, иконки, курсоры. Управление снапшотами осуществляется через Snapper. Он хранит снапшоты за последние три дня. Снапшоты создаются только для разделов `/` и `/home`. Управление файлами подкачки осуществляется через Systemd-Swap, который автоматически в случае необходимости создает файлы подкачки в `/var/swap` (находится на отдельном вольюме, чтобы не забивать снапшоты мусором).")

## Подготовка к установке

Качаем [ISO-образ Arch Linux](https://archlinux.org/download/)

### Установочная Флешка Вариант 1 - VENTOY

Качаем VENTOY из [официального вэб сайта программы](https://www.ventoy.net/en/download.html "Ventoy — Это инструмент с открытым исходным кодом для создания загрузочного USB-накопителя для файлов ISO/WIM/IMG/VHD(x)/EFI.") или из [GitHub репозитория Ventoy](https://github.com/ventoy/Ventoy "Ventoy — Это инструмент с открытым исходным кодом для создания загрузочного USB-накопителя для файлов ISO/WIM/IMG/VHD(x)/EFI.")

![Ventoy](https://user-images.githubusercontent.com/12753171/171402454-823a41ce-7f53-4670-bbfc-0cf179e35f4f.png "Ventoy - Удобная программа для сбора коллекции с образами установочных дисков на одном USB флешки")

Выбираем `Option --> Partition style --> GPT` как на скрине. Копируем/Перемещаем скачанный ранее ISO-образ Arch Linux в корень на созданном разделе флешки как обычный файл.

### Установочная Флешка Вариант 2 - dd & RUFUS

Для создания загрузочной флешки в Linux клонируем ранее скачанный ISO-образ Arch Linux при помощи команды из консоли:

```bash
$ sudo dd if=/path/to/iso of=/dev/sdX bs=8M status=progress; sync
```

> Где `sdX` &ndash; имя нашего USB устройства. Перегружаемся после удачного завершения операции.

В Windows для создания загрузочной флешки можно использовать [RUFUS](https://rufus.ie/).

![image](https://user-images.githubusercontent.com/41215002/53678080-21867b80-3ccb-11e9-87a8-a4d028153a53.png)


## Загрузка с установочной флешки Live System ArchLinux 

Для изменении приоритета загрузки в BIOS/UEFI после перезагрузки при появлении логотипа жмем клавиши `F2` /  `F12` / `Del` (в зависимости от производителя).


Во вкладке `Boot` отключаем `Secure Boot`. Это виндовое изобретение, которое не позволяет запускать неподписанные **EFI**. Можно еще включить `Launch CSM` / `CMS Boot` / `CMS OS` / `Legacy OS` для возможности загрузки с устройств, содержащих метку **MBR** (может потребоваться, например, для установки Windows 7). На материнках ASUS нужно CSM (режим поддержки устаревших операционных систем) установить в auto. Далее меняем приоритет загрузки устройств, делая флешку первой. Сохраняем изменения и выходим.


ПЕРЕЗАГРУЗКА

## Начало установки

Вы попадете в Live System ArchLinux. Загрузится виртуальная консоль (терминал), в котором вы будете вводить команды. Во время установки, вы работаете от имени суперпользователя (root).


Инструкцию по установке Arch Linux можно посмотреть так:

```bash
less ~/install.txt
```

Небольшой лайфхак: во время установки можно переключаться между терминалами с помощью `Ctrl+Alt+F1..6`. Если мы нажмем `Ctrl+Alt+F2` откроется второй терминал (по-умолчанию мы работаем в первом) и потребуется ввести пароль `root`, во втором терминале мы можем открыть инструкцию и периодически подсматривать ее, переключаясь между терминалами.

### Проверка режима загрузки

Чтобы проверить режим загрузки ((UEFI) EFI GPT или BIOS MBR), просмотрите содержимое каталога [efivars](https://wiki.archlinux.org/title/Efivars "Efivars"):

> ls /sys/firmware/efi/efivars

Если содержимое отображается без каких-либо ошибок, система загружена в режиме UEFI. Если же такого каталога не существует, возможно, система загружена в режиме [BIOS](https://en.wikipedia.org/wiki/ru:BIOS "wikipedia:ru:BIOS") или [CSM](https://en.wikipedia.org/wiki/Compatibility_Support_Module "wikipedia:Compatibility Support Module").

## Настройка сети

При подключении от кабеля ничего настраивать не надо. Настройка wifi требует ввода пары команд. В моем случае следующие команды были полезны:


Выводит на экран список сетевых адаптеров.
```
iwconfig
```
или полную информацию
```
ip a
```
Выводит список доступных сетей:
```
sudo iw dev wlan0 scan | less
```
для выхода из командной строки `q`


Включает сетевой адаптер если он выключен:
```
sudo ip link set wlan0 up
```

### Подключение к сети “OrrHome”

Если внешний USB Wifi Adapter:
```
iwconfig wlan0 essid OrrHome
```
Если встроенный Wifi Adapter:
```bash
$ iwctl

# Получим список сетевых интерфейсов
[iwd]# device list
                           Devices
-------------------------------------------------------------
  Name          Address          Powered    Adapter    Mode
-------------------------------------------------------------
  wlan0         ...              on         ...        ...

# Сначала просканируем сети
[iwd]# station <interface> scan

# А потом посмотрим все сети к которым можно подключиться
[iwd]# station <interface> get-networks
                               Available networks                             *
--------------------------------------------------------------------------------
    Network name                    Security          Signal
--------------------------------------------------------------------------------
    ...  
    <sid>                           psk               ****

# Выключаем и заново включаем Wifi Adapter через кнопку на клавиатуре, дальше
# Подключаемся
[iwd]# station <interface> connect <sid>
[iwd]# station wlan0 connect OrrHome
[iwd]# exit
```

Если не помогли вышеуказанные варианты то попробуте следующие команды:
```
rfkill unblock wifi
wifi-menu
```
И наконец проверить соединение можно с помощью команды ping:
```bash
$ ping -c 3 www.google.com
```
